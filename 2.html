<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>æ˜æ˜Ÿäººçœ¼è¾¨è­˜éŠæˆ²</title>
    <style>
        :root {
            --bg-main: #2c3e50;
            --bg-side: #34495e;
            --accent: #e74c3c;
            --accent-light: #2ecc71;
            --text-light: #ecf0f1;
            --text-muted: #bdc3c7;
            --score-highlight: #f1c40f;
        }

        * { box-sizing: border-box; }

        body {
            margin: 0;
            font-family: "Microsoft JhengHei", Arial, sans-serif;
            background-color: var(--bg-main);
            color: var(--text-light);
            min-height: 100vh;
            display: flex;
        }

        .container {
            display: flex;
            flex: 1;
            min-height: 100vh;
        }

        #main-area {
            flex: 3;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            border-right: 2px solid #ecf0f1;
            padding: 16px;
        }

        #sidebar {
            flex: 1;
            background-color: var(--bg-side);
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 24px 16px;
        }

        h1 {
            margin: 0;
            font-size: clamp(1.8rem, 3vw, 2.4rem);
            text-align: center;
        }

        .score-box {
            background: var(--accent);
            padding: 16px;
            border-radius: 12px;
            margin-top: 12px;
            text-align: center;
            width: 100%;
            max-width: 260px;
        }
        .score-number {
            font-size: clamp(2.8rem, 5vw, 3.5rem);
            font-weight: bold;
        }
        .score-label {
            font-size: 1rem;
        }

        .instructions {
            margin-top: 24px;
            padding: 12px;
            font-size: 0.95rem;
            line-height: 1.7;
            color: var(--text-muted);
            width: 100%;
            max-width: 280px;
        }
        .key-hint {
            font-weight: bold;
            color: var(--score-highlight);
        }

        #start-screen, #game-screen, #end-screen {
            display: none;
            flex-direction: column;
            align-items: center;
            width: 100%;
        }
        .active { display: flex !important; }

        button {
            padding: 12px 28px;
            font-size: 1rem;
            background-color: #27ae60;
            color: white;
            border: none;
            border-radius: 30px;
            cursor: pointer;
            transition: transform 0.15s, background-color 0.15s;
            margin-top: 12px;
        }
        button:hover {
            transform: scale(1.03);
            background-color: var(--accent-light);
        }
        button:active {
            transform: scale(0.97);
        }

        #quiz-image {
            max-width: 100%;
            max-height: 60vh;
            border: 4px solid white;
            box-shadow: 0 0 12px rgba(0,0,0,0.6);
            margin-bottom: 16px;
            border-radius: 10px;
            object-fit: contain;
        }

        #answer-display {
            font-size: clamp(1.6rem, 3vw, 2.1rem);
            font-weight: bold;
            color: var(--score-highlight);
            min-height: 2.5rem;
            text-shadow: 2px 2px 4px black;
            text-align: center;
        }

        #status-msg {
            margin-top: 8px;
            font-size: 0.95rem;
            color: var(--text-muted);
            text-align: center;
        }

        .btn-group {
            display: flex;
            gap: 8px;
            margin-top: 12px;
            flex-wrap: wrap;
            justify-content: center;
        }
        .btn-small {
            padding: 10px 16px;
            font-size: 0.9rem;
        }

        @media (max-width: 768px) {
            .container {
                flex-direction: column;
            }
            #main-area {
                flex: none;
                border-right: none;
                border-bottom: 2px solid #ecf0f1;
                padding: 12px;
            }
            #sidebar {
                flex: none;
                padding-top: 12px;
            }
        }
    </style>
</head>
<body>
<div class="container">
    <!-- ä¸»éŠæˆ²å€ -->
    <div id="main-area">
        <!-- é–‹å§‹ç•«é¢ -->
        <div id="start-screen" class="active">
            <h1>æ˜æ˜Ÿäººçœ¼è¾¨è­˜</h1>
            <p style="font-size:0.95rem; margin-top:10px; color:#bdc3c7; text-align:center;">
                html èˆ‡ png æª”æ”¾åœ¨åŒä¸€å€‹è³‡æ–™å¤¾<br>
                é»é¸é–‹å§‹éŠæˆ²å³å¯éš¨æ©Ÿé¡¯ç¤ºä»»ä¸€å¼µåœ–ç‰‡
            </p>
            <button onclick="startGame()">é–‹å§‹éŠæˆ²</button>
        </div>

        <!-- éŠæˆ²ç•«é¢ -->
        <div id="game-screen">
            <img id="quiz-image" src="" alt="çŒœçŒœæ˜¯èª°">
            <div id="answer-display"></div>
            <div id="status-msg">è«‹ä½œç­”...</div>

            <!-- æ‰‹æ©Ÿï¼å¹³æ¿æ“ä½œæŒ‰éˆ• -->
            <div class="btn-group">
                <button class="btn-small" onclick="handleAnswer(1)">ç­”å° (+150)</button>
                <button class="btn-small" onclick="handleAnswer(2)">ç­”éŒ¯ (+0)</button>
                <button class="btn-small" onclick="handleAnswer(3)">ç­”å°ä¸€åŠ (+75)</button>
            </div>
        </div>

        <!-- çµæŸç•«é¢ -->
        <div id="end-screen">
            <h1>éŠæˆ²çµæŸ</h1>
            <p style="font-size:1.1rem; text-align:center;">æ‰€æœ‰åœ–ç‰‡éƒ½æ’­æ”¾å®Œç•¢</p>
            <button onclick="location.reload()">é‡æ–°é–‹å§‹</button>
        </div>
    </div>

    <!-- å³å´è³‡è¨Šæ¬„ -->
    <div id="sidebar">
        <div class="score-box">
            <div class="score-label">ç›®å‰åˆ†æ•¸</div>
            <div class="score-number" id="score-display">0</div>
        </div>

        <div class="instructions">
            <h3 style="margin-top:0;">æ“ä½œæ–¹å¼ï¼š</h3>
            <p><span class="key-hint">æ‰‹æ©Ÿ / å¹³æ¿ï¼š</span> é»é¸ä¸‹æ–¹ä¸‰å€‹æŒ‰éˆ•ä½œç­”ã€‚</p>
            <p><span class="key-hint">é›»è…¦éµç›¤ï¼š</span> ä¹Ÿå¯ä»¥æŒ‰ [1] [2] [3] ä½œç­”ã€‚</p>
            <hr style="border-color:#7f8c8d;">
            <p>æ¯é¡Œä½œç­”å¾Œé¡¯ç¤ºè©•èªï¼Œç´„ 1.5 ç§’è‡ªå‹•åˆ‡æ›ä¸‹ä¸€å¼µåœ–ç‰‡ã€‚</p>
        </div>
    </div>
</div>

<script>
    // å¦‚æœä¹‹å¾Œä½ æ”¹æˆåœ–ç‰‡æ”¾åœ¨ images å­è³‡æ–™å¤¾ï¼ŒæŠŠ BASE_PATH æ”¹æˆ "images/"
    const BASE_PATH = "";

    // ä½ æä¾›çš„å…¨éƒ¨æª”å
    const imageFiles = [
        "Asa.png",
        "Bailey.png",
        "Danielle.png",
        "Felix.png",
        "Haerin.png",
        "Hello Kitty.png",
        "I.N.png",
        "IU.png",
        "James è¶™é›¨å‡¡.png",
        "Jennie.png",
        "Jisoo.png",
        "Karina.png",
        "Lee Know.png",
        "liz.png",
        "NI-KI è¥¿æ‘åŠ›.png",
        "Rose.png",
        "Soobinå´”ç§€å½¬.png",
        "Tarzzan.png",
        "Vernonå´”ç€šç‡.png",
        "Winter.png",
        "Wonhee ææ²…ç¦§.png",
        "Yuna.png",
        "ä¸€åˆ€å…©æ–·.png",
        "ä¸€åäºŒé³¥.png",
        "ä¸ƒä¸Šå…«ä¸‹.png",
        "ä¸‰äººæˆè™.png",
        "å³å®¥è«ºå­¸é•·.png",
        "å‘¨åª›(Xå‹éˆå‹•çœ¼ç¥).png",
        "å‘¨å­ç‘œ.png",
        "å‘¨æ°å€«.png",
        "å¤§è€³ç‹—.png",
        "å®‰ä¿çœŸ.png",
        "å®‹æ±Ÿ.png",
        "å®‹é›¨ç¦.png",
        "å®®è„‡å’²è‰¯.png",
        "å´”å‚˜.png",
        "å´”ç„¶ç«£.png",
        "åº«æ´›ç±³.png",
        "å¼µå‡Œèµ«.png",
        "å¼µå£çµèˆŒ.png",
        "å¼µå“¡ç‘›.png",
        "æ‰“è‰é©šè›‡.png",
        "æŒ¯å®‡.png",
        "æ˜å®°é‰‰.png",
        "æ›¹è–‡å¨Ÿ.png",
        "æœä¸‰æš®å››.png",
        "æœ´å¯¶åŠ.png",
        "æç ç¢.png",
        "æ—å®¥ç¶ºå­¸å§ğŸ˜œ.png",
        "æ¥Šæ·½å–¬å­¸å§(å¤§æ¼‚äº®).png",
        "æ±—æµæµ¹èƒŒ.png",
        "ç‹ä¸–å ….png",
        "ç‹é¶´æ££.png",
        "ç²æœ¨åœ’å­.png",
        "ç”³æƒŸ.png",
        "ç™½é¹¿.png",
        "ç ´æ¶•è€Œç¬‘.png",
        "ç¦éƒ¨å¹³æ¬¡.png",
        "ç« æ˜Š.png",
        "ç« è‹¥æ¥ .png",
        "èŒƒå®¶ç¿.png",
        "è¯è.png",
        "è‘‰èˆ’è¯.png",
        "è–›ä¾–å¨¥.png",
        "è™æ›¸æ¬£â™¡ê™¼Ìˆ.png",
        "è¨±å…çœŸ.png",
        "è¨±å…‰æ¼¢.png",
        "è¬è© åª›å­¸å§!.png",
        "è¶™éœ²æ€.png",
        "è»ŠéŠ€å„ª.png",
        "é„­é›…è³¢.png",
        "é‡‘æ™ºåª›.png",
        "é‡‘çŸ(ç‰)å¥.png",
        "éŒ¦ä¸Šæ·»èŠ±.png",
        "é˜¿æ»´.png",
        "é™³ç©æŸ”å­¸å§~.png",
        "é †ç†æˆç« .png",
        "é£ŸæŒ‡å¤§å‹•.png",
        "é«˜å…(èƒ¤)ç¦.png",
        "é´‰é›€ç„¡è².png",
        "é¶´ç«‹é›ç¾¤.png",
        "é»ƒå¯…ç‡.png",
        "é»ƒé‰‰è¾°.png"
    ];

    let score = 0;
    let questions = [];
    let currentQuestion = null;
    let isWaiting = false;
    let gameActive = false;

    function shuffle(arr) {
        for (let i = arr.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [arr[i], arr[j]] = [arr[j], arr[i]];
        }
    }

    function startGame() {
        if (imageFiles.length === 0) {
            alert("ç›®å‰æ²’æœ‰è¨­å®šä»»ä½•åœ–ç‰‡ã€‚");
            return;
        }

        score = 0;
        updateScoreDisplay();

        questions = imageFiles.map(name => ({ file: BASE_PATH + name }));
        shuffle(questions);

        document.getElementById("start-screen").classList.remove("active");
        document.getElementById("game-screen").classList.add("active");
        gameActive = true;
        nextQuestion();
    }

    function nextQuestion() {
        if (questions.length === 0) {
            gameOver();
            return;
        }

        isWaiting = false;
        document.getElementById("answer-display").textContent = "";
        document.getElementById("status-msg").textContent =
            "è«‹ä½œç­”ï¼ˆå¯æŒ‰æŒ‰éˆ•æˆ–éµç›¤ 1 / 2 / 3ï¼‰";

        currentQuestion = questions.pop();
        const img = document.getElementById("quiz-image");
        img.src = currentQuestion.file;
    }

    function handleAnswer(type) {
        if (!gameActive || isWaiting) return;

        let points = 0;
        let actionText = "";

        if (type === 1) {
            points = 150;
            actionText = "ç­”å°ï¼ (+150)";
        } else if (type === 2) {
            points = 0;
            actionText = "ç­”éŒ¯ (+0)";
        } else if (type === 3) {
            points = 75;
            actionText = "ç­”å°ä¸€åŠ (+75)";
        } else {
            return;
        }

        isWaiting = true;
        score += points;
        updateScoreDisplay();
        showAnswer(actionText);
        setTimeout(nextQuestion, 1500);
    }

    document.addEventListener("keydown", function (event) {
        if (!gameActive || isWaiting) return;
        if (event.key === "1") handleAnswer(1);
        else if (event.key === "2") handleAnswer(2);
        else if (event.key === "3") handleAnswer(3);
    });

    function showAnswer(text) {
        const answerDiv = document.getElementById("answer-display");
        const statusDiv = document.getElementById("status-msg");
        answerDiv.textContent = text;
        statusDiv.textContent = "1.5 ç§’å¾Œè‡ªå‹•ä¸‹ä¸€é¡Œ";
    }

    function updateScoreDisplay() {
        const display = document.getElementById("score-display");
        display.textContent = score;
        display.style.transform = "scale(1.15)";
        setTimeout(() => {
            display.style.transform = "scale(1)";
        }, 180);
    }

    function gameOver() {
        gameActive = false;
        document.getElementById("game-screen").classList.remove("active");
        document.getElementById("end-screen").classList.add("active");
    }

    document.getElementById("quiz-image")
        .addEventListener("dragstart", e => e.preventDefault());
</script>
</body>
</html>
